---
sidebar: sidebar 
permalink: task-managing-data-fusion.html 
keywords: data identifiers, personal data, sensitive personal data, compliance, data fusion, data sense 
summary: Data Sense提供兩種方法、讓您新增Data Sense在未來掃描中識別的自訂「個人資料」清單、讓您完整瞭解所有組織檔案中可能敏感的資料所在位置。 
---
= 將個人資料識別碼新增至「資料感應」掃描
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
Data Sense提供兩種方法、讓您新增Data Sense在未來掃描中所識別的自訂「個人資料」清單、讓您完整瞭解可能敏感的資料在_all_貴組織檔案中的位置。

* 您可以根據所掃描的資料庫中的特定欄位來新增唯一識別碼。
* 您可以使用規則運算式（regex）新增個人模式、將regex新增至現有的預先定義模式。



NOTE: 本節所述的功能僅在您選擇對資料來源執行完整分類掃描時可用。只有對應掃描的資料來源不會顯示檔案層級的詳細資料。



== 從資料庫建立自訂的個人資料識別碼

我們稱為「Data Fusion SURE__」的一項功能、可讓您掃描組織的資料、找出檔案或其他資料庫中是否有資料庫的唯一識別碼。您可以在資料庫表格中選取特定欄或欄、以選擇Cloud Data Sense在掃描中尋找的其他識別碼。例如、下圖顯示 Fusion 如何使用資料功能來掃描您的磁碟區、儲存庫和資料庫、找出 Oracle 資料庫中所有客戶 ID 的出現情形。

image:diagram_compliance_data_fusion.png["圖表顯示如何使用資料庫的內容做為來源、以識別包含相同資料的檔案。"]

如您所見、在兩個磁碟區和一個 S3 儲存區中找到兩個獨特的客戶 ID 。也會識別資料庫表格中的任何相符項目。

請注意、由於您正在掃描自己的資料庫、因此無論您的資料儲存在何種語言中、都會在未來的Cloud Data Sense掃描中用來識別資料。

您必須擁有 link:task-scanning-databases.html#adding-the-database-server["新增至少一個資料庫伺服器"^] 在您新增資料Fusion 來源之前、請先將雲端資料感測功能移至雲端資料感測。

. 在「組態」頁面中、按一Fusion 下來源資料所在資料庫中的*管理Data S還原*。
+
image:screenshot_compliance_manage_data_fusion.png["選取「管理資料 Fusion 」按鈕以新增來源欄的快照。"]

. 在下 Fusion 一頁按一下 * 「 Add Data Source" （新增資料來源） * 。
. 在 _ 新增資料 Fusion 來源 _ 頁面：
+
.. 從下拉式功能表中選取資料庫架構。
.. 在該架構中輸入表格名稱。
.. 輸入含有您要使用之唯一識別碼的欄或欄。
+
新增多個欄時、請在個別行中輸入每個欄名稱或表格檢視名稱。

+
image:screenshot_compliance_add_data_fusion.png["識別資料 Fusion 來源的架構、表格和欄的快照。"]



. 按一下「 * 新增資料 Fusion 來源 * 」。
+
「資料Fusion 不整清單」頁面會顯示您已設定要掃描Cloud Data Sense的資料庫來源欄。

+
image:screenshot_compliance_data_fusion_list.png["您已設定資料 Fusion 功能的所有資料來源參考資料的快照。"]



下次掃描後、結果會將此新資訊納入「法規遵循儀表板」的「個人結果」區段、以及「個人資料」篩選器的「調查」頁面。您新增的每個來源欄都會以「Table.column」格式顯示在篩選清單中、例如「Customer.CustomerID」。

image:screenshot_add_data_fusion_result.png["「Fusion 調查結果」窗格中顯示資料實例的快照。"]



=== 刪除資料 Fusion 來源

如果您在某個時候決定不使用特定的資料 Fusion 來源來掃描檔案、您可以從「資料 Fusion 」清單頁面中選取來源列、然後按一下「 * 刪除資料 Fusion 來源 * 」。

image:screenshot_compliance_delete_data_fusion.png["顯示如何移除資料 Fusion 的快照來源。"]



== 使用regex建立自訂的個人資料識別碼

您可以使用自訂規則運算式（regex）新增個人模式、以識別資料中的特定資訊。regex會新增至Data Sense已使用的現有預先定義模式、結果會顯示在「個人模式」區段下方。

例如、您可能想要查看所有檔案中提及內部產品ID的位置。例如、如果產品ID的結構清楚明確、12位數的編號從201開始、您可以使用自訂的regex功能在檔案中搜尋。



=== 存取命令列

您需要存取Data Sense系統、才能啟動命令來新增regex。

當您的內部部署安裝Data Sense時、您可以直接存取命令列。

當在雲端部署Data Sense時、您可以使用SSH來執行Data Sense執行個體。您可以輸入使用者和密碼、或使用您在安裝BlueXP Connector期間提供的SSH金鑰來SSH到系統。SSH命令是：

 ssh -i <path to the ssh key> <machine user>@<datasense ip>
* = ssh驗證金鑰的位置
* <機器使用者>：
+
** 對於AWS：使用<EC2-user>
** Azure：使用為BlueXP執行個體建立的使用者
** GCP：使用為BlueXP執行個體建立的使用者


* =虛擬機器執行個體的IP位址


請注意、您必須修改安全性群組傳入規則、才能存取系統。請參閱 https://docs.netapp.com/us-en/cloud-manager-setup-admin/reference-networking-cloud-manager.html#ports-and-security-groups["連接埠和安全性群組"^] 以取得更多資訊。



=== 命令語法以新增regex

新增自訂regex的命令語法如下：

 sudo bash tools/datascience/custom_regex/custom_regex.sh -s activate -n "<pattern name>" -r "<regular expression>"
* =此名稱將出現在Data Sense UI中。請確定名稱可識別regex的設計用途。名稱必須至少包含一個字母、且長度最多可達70個字元。
* =這可以是任何合法的規則運算式。


您可以從路徑*/ opt / NetApp /資料中心/*執行命令。

請注意、我們會測試每個新的regex、以驗證其範圍是否太廣、而且會傳回太多相符項目。如果是這種情況、則會顯示下列記錄訊息：

 log v1.0 | 2022-08-17 07:24:19,585 | ERROR | ds_logger | custom_regex | 119 | 1 | None | custom_regex_119 | The regex has high risk to identify false positives. Please narrow the regular expression and try again. To add it anyway, use the force flag (-f) at the end
如果您想要將regex強制新增至Data Sense（資料感測）、您可以使用命令列結尾的*-f*選項、即使我們認為該選項太寬。



=== 範例

產品ID是以201開頭的12位數號碼、因此規則運算式是*\b201\d｛9｝\b*。您想要在Data Sense UI中輸入文字、將此模式識別為*內部產品ID*。

若要查看所有檔案中提及的內部產品ID、請輸入下列命令。

[source, cli]
----
[user ~]$ cd /opt/netapp/Datasense/
[user Datasense]$ sudo bash tools/datascience/custom_regex/custom_regex.sh -s activate -n "Internal Product ID" -r "\b201\d{9}\b"
----
....
[+] Adding Custom Regex to Data Sense
log v1.0 | 2022-08-23 13:19:01,476 | INFO | ds_logger | custom_regex | 154 | 1 | None | custom_regex_154 | A pattern named 'Internal Product ID' was added successfully to Data Sense
....
下次掃描後、結果會將此新資訊納入「法規遵循儀表板」的「個人結果」區段、以及「個人資料」篩選器的「調查」頁面。

image:screenshot_add_regex_result.png["在「調查結果」窗格中顯示自訂regex結果範例的快照。"]



=== 停用自訂regex

如果您稍後決定不需要使用Data Sense來識別您輸入為regex的自訂模式、請使用命令中的* deacter*選項來移除每個regex。

 sudo bash tools/datascience/custom_regex/custom_regex.sh -s deactivate -n "<pattern name>"
例如、若要移除*內部產品ID* regex：

[source, cli]
----
[user ~]$ cd /opt/netapp/Datasense/
[user Datasense]$ sudo bash tools/datascience/custom_regex/custom_regex.sh -s deactivate -n "Internal Product ID"
----
 log v1.0 | 2022-08-17 09:13:15,431 | INFO | ds_logger | custom_regex | 31 | 1 | None | custom_regex_31 | A pattern named 'Internal Product ID' was deactivated successfully