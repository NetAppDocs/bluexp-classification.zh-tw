---
sidebar: sidebar 
permalink: task-managing-data-fusion.html 
keywords: data identifiers, personal data, sensitive personal data, compliance, data fusion, data sense 
summary: Data Sense提供多種方法、讓您新增Data Sense在未來掃描中所識別的自訂「個人資料」清單、讓您完整瞭解所有組織檔案中可能敏感的資料所在位置。 
---
= 將個人資料識別碼新增至「資料感應」掃描
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
Data Sense提供多種方法、讓您新增Data Sense在未來掃描中所識別的自訂「個人資料」清單、讓您完整瞭解可能敏感的資料在_all_貴組織檔案中的位置。

* 您可以根據所掃描的資料庫中的特定欄位來新增唯一識別碼。
* 您可以從文字檔新增自訂關鍵字、這些文字會在您的資料中識別。
* 您可以使用規則運算式（regex）新增個人模式、將regex新增至現有的預先定義模式。



NOTE: 本節所述的功能僅在您選擇對資料來源執行完整分類掃描時可用。只有對應掃描的資料來源不會顯示檔案層級的詳細資料。



== 從資料庫新增自訂的個人資料識別碼

我們稱為「Data Fusion SURE__」的功能可讓您掃描貴組織的資料、找出資料庫中的唯一識別碼是否存在於任何其他資料來源。您可以選取資料庫表格中的特定欄或欄、以選擇Data Sense在掃描中尋找的其他識別碼。例如、下圖顯示 Fusion 如何使用資料功能來掃描您的磁碟區、儲存庫和資料庫、找出 Oracle 資料庫中所有客戶 ID 的出現情形。

image:diagram_compliance_data_fusion.png["圖表顯示如何使用資料庫的內容做為來源、以識別包含相同資料的檔案。"]

如您所見、在兩個磁碟區和一個 S3 儲存區中找到兩個獨特的客戶 ID 。也會識別資料庫表格中的任何相符項目。

請注意、由於您正在掃描自己的資料庫、因此無論您的資料儲存在何種語言中、都會在未來的「Data Sense」（資料感測）掃描中用來識別資料。

您必須擁有 link:task-scanning-databases.html#adding-the-database-server["新增至少一個資料庫伺服器"^] 在您新增資料Fusion 來源之前、請先將資料感測納入資料感測。

. 在「組態」頁面中、按一Fusion 下來源資料所在資料庫中的*管理Data S還原*。
+
image:screenshot_compliance_manage_data_fusion.png["選取「管理資料 Fusion 」按鈕以新增來源欄的快照。"]

. 在下 Fusion 一頁按一下 * 「 Add Data Source" （新增資料來源） * 。
. 在 _ 新增資料 Fusion 來源 _ 頁面：
+
.. 從下拉式功能表中選取資料庫架構。
.. 在該架構中輸入表格名稱。
.. 輸入含有您要使用之唯一識別碼的欄或欄。
+
新增多個欄時、請在個別行中輸入每個欄名稱或表格檢視名稱。

+
image:screenshot_compliance_add_data_fusion.png["識別資料 Fusion 來源的架構、表格和欄的快照。"]



. 按一下「 * 新增資料 Fusion 來源 * 」。
+
「資料Fusion 還原」目錄頁面會顯示您已設定要掃描的「資料感測」資料庫來源欄。

+
image:screenshot_compliance_data_fusion_list.png["您已設定資料 Fusion 功能的所有資料來源參考資料的快照。"]



下次掃描後、結果會將此新資訊納入「法規遵循儀表板」的「個人結果」區段、以及「個人資料」篩選器的「調查」頁面。您新增的每個來源欄都會以「Table.column」格式顯示在篩選清單中、例如「Customer.CustomerID」。

image:screenshot_add_data_fusion_result.png["「Fusion 調查結果」窗格中顯示資料實例的快照。"]



=== 刪除資料Fusion 來源

如果您在某個時候決定不使用特定的資料 Fusion 來源來掃描檔案、您可以從「資料 Fusion 」清單頁面中選取來源列、然後按一下「 * 刪除資料 Fusion 來源 * 」。

image:screenshot_compliance_delete_data_fusion.png["顯示如何移除資料 Fusion 的快照來源。"]



== 從文字檔新增自訂關鍵字

您可以將自訂關鍵字新增至Data Sense、以便識別資料中的特定資訊。您可以從您定義的文字檔新增關鍵字。關鍵字會新增至Data Sense已使用的現有預先定義關鍵字、結果會顯示在「個人模式」區段下方。

例如、您可能想要查看所有檔案中提及內部產品名稱的位置、以確保這些名稱在不安全的位置無法存取。

更新自訂關鍵字之後、Data Sense會重新開始掃描所有資料來源、掃描完成後、新結果會出現在Data Sense中。

您必須在Data Sense系統的下列位置新增或建立包含自訂關鍵字的文字檔：

 /opt/netapp/Datasense/tools/datascience/custom_keywords/keywords_sets
您可以使用多個關鍵字建立單一檔案、或是新增多個檔案、每個檔案都包含特定關鍵字。檔案的格式為每行一個字、例如：

_inters_product_names.txt_

....
barred
barn
horned
snowy
screech
....
資料感應搜尋這些項目不區分大小寫。



=== 存取命令列

您需要存取Data Sense系統、才能啟動命令來新增自訂關鍵字。

當您的內部部署安裝Data Sense時、您可以直接存取命令列。

當在雲端部署Data Sense時、您可以使用SSH來執行Data Sense執行個體。您可以輸入使用者和密碼、或使用您在安裝BlueXP Connector期間提供的SSH金鑰來SSH到系統。SSH命令是：

 ssh -i <path_to_the_ssh_key> <machine_user>@<datasense_ip>
* <path_to_the_ssh驗證金鑰>= ssh驗證金鑰的位置
* <machine_user>：
+
** 對於AWS：使用<EC2-user>
** Azure：使用為BlueXP執行個體建立的使用者
** GCP：使用為BlueXP執行個體建立的使用者


* <datasense_ip>=虛擬機器執行個體的IP位址


請注意、您必須修改安全性群組傳入規則、才能存取系統。如需詳細資料、請參閱：

* https://docs.netapp.com/us-en/cloud-manager-setup-admin/reference-ports-aws.html["AWS中的安全群組規則"^]
* https://docs.netapp.com/us-en/cloud-manager-setup-admin/reference-ports-azure.html["Azure中的安全性群組規則"^]
* https://docs.netapp.com/us-en/cloud-manager-setup-admin/reference-ports-gcp.html["Google Cloud中的防火牆規則"^]




=== 新增自訂關鍵字的命令語法

從檔案新增自訂關鍵字的命令語法如下：

 sudo bash tools/datascience/custom_keywords/upload_custom_keywords.sh -s activate -f <file_name>.txt
* =這是包含關鍵字的檔案名稱。


您可以從路徑*/ opt / NetApp /資料中心/*執行命令。

如果您已建立許多包含自訂關鍵字的檔案、您可以使用下列命令一次新增所有檔案的關鍵字：

 sudo bash tools/datascience/custom_keywords/upload_custom_keywords.sh -s activate
請注意下列需求：

* 檔案名稱不應包含數字。
* 每個檔案最多可包含100、000個字。如果有更多字詞、則只會新增前10、000個字。
* 每個字詞長度必須至少3個字元。忽略較短的字詞。
* 重複的字詞只會新增一次。




=== 範例

貴公司的內部產品名稱是根據貓頭鷹的類型、如上所示。

若要查看所有檔案中提及的內部產品名稱、請輸入下列命令。

[source, cli]
----
[user ~]$ cd /opt/netapp/Datasense/
[user Datasense]$ sudo bash tools/datascience/custom_keywords/upload_custom_keywords.sh -s activate -f internal_product_names.txt
----
 log v1.0 | 2022-08-24 08:16:25,332 | INFO | ds_logger | upload_custom_keywords | 126 | 1 | None | upload_custom_keywords_126 | All legal keywords were successfully inserted
下次掃描後、結果會將此新資訊納入「法規遵循儀表板」的「個人結果」區段、以及「個人資料」篩選器的「調查」頁面。

image:screenshot_add_keywords_result.png["在「調查結果」窗格中顯示自訂關鍵字範例的快照。"]



=== 停用自訂關鍵字

如果您稍後決定不需要使用「資料感應」來識別之前新增的特定自訂關鍵字、請使用命令中的*停用*選項來移除文字檔中定義的關鍵字。

 sudo bash tools/datascience/custom_keywords/upload_custom_keywords.sh -s deactivate -f <file_name>.txt
例如、若要移除在*內部產品名稱*檔案中定義的關鍵字模式：

[source, cli]
----
[user ~]$ cd /opt/netapp/Datasense/
[user Datasense]$ sudo bash tools/datascience/custom_keywords/upload_custom_keywords.sh -s deactivate -f internal_product_names
----
 log v1.0 | 2022-08-24 08:16:25,332 | INFO | ds_logger | upload_custom_keywords | 87 | 1 | None | upload_custom_keywords_87 | Deactivated keyword pattern from internal_product_names.txt successfully


== 使用regex新增自訂的個人資料識別碼

您可以使用自訂規則運算式（regex）新增個人模式、以識別資料中的特定資訊。regex會新增至Data Sense已使用的現有預先定義模式、結果會顯示在「個人模式」區段下方。

例如、您可能想要查看所有檔案中提及內部產品ID的位置。例如、如果產品ID的結構清楚明確、12位數的編號從201開始、您可以使用自訂的regex功能在檔案中搜尋。

新增regex之後、Data Sense會重新開始掃描所有資料來源、掃描完成後、新結果會出現在Data Sense中。



=== 命令語法以新增regex

您必須存取Data Sense系統、才能新增包含自訂關鍵字模式的檔案、並啟動命令來新增自訂關鍵字。  the command line,瞭解如何存取命令列 無論您是在內部部署環境中安裝Data Sense、或是在雲端中部署Data Sense、

新增自訂regex的命令語法如下：

 sudo bash tools/datascience/custom_regex/custom_regex.sh -s activate -n "<pattern_name>" -r "<regular_expression>"
* =此名稱將顯示在Data Sense UI中。請確定名稱可識別regex的設計用途。名稱必須至少包含一個字母、且長度最多可達70個字元。
* =這可以是任何合法的規則運算式。


您可以從路徑*/ opt / NetApp /資料中心/*執行命令。

請注意、我們會測試每個新的regex、以驗證其範圍是否太廣、而且會傳回太多相符項目。如果是這種情況、則會顯示下列記錄訊息：

 log v1.0 | 2022-08-17 07:24:19,585 | ERROR | ds_logger | custom_regex | 119 | 1 | None | custom_regex_119 | The regex has high risk to identify false positives. Please narrow the regular expression and try again. To add it anyway, use the force flag (-f) at the end
如果您想要將regex強制新增至Data Sense（資料感測）、您可以使用命令列結尾的*-f*選項、即使我們認為該選項太寬。



=== 範例

產品ID是以201開頭的12位數號碼、因此規則運算式是*\b201\d｛9｝\b*。您想要在Data Sense UI中輸入文字、將此模式識別為*內部產品ID*。

若要查看所有檔案中提及的內部產品ID、請輸入下列命令。

[source, cli]
----
[user ~]$ cd /opt/netapp/Datasense/
[user Datasense]$ sudo bash tools/datascience/custom_regex/custom_regex.sh -s activate -n "Internal Product ID" -r "\b201\d{9}\b"
----
....
[+] Adding Custom Regex to Data Sense
log v1.0 | 2022-08-23 13:19:01,476 | INFO | ds_logger | custom_regex | 154 | 1 | None | custom_regex_154 | A pattern named 'Internal Product ID' was added successfully to Data Sense
....
下次掃描後、結果會將此新資訊納入「法規遵循儀表板」的「個人結果」區段、以及「個人資料」篩選器的「調查」頁面。

image:screenshot_add_regex_result.png["在「調查結果」窗格中顯示自訂regex結果範例的快照。"]



=== 停用自訂regex

如果您稍後決定不需要使用Data Sense來識別您輸入為regex的自訂模式、請使用命令中的* deacter*選項來移除每個regex。

 sudo bash tools/datascience/custom_regex/custom_regex.sh -s deactivate -n "<pattern name>"
例如、若要移除*內部產品ID* regex：

[source, cli]
----
[user ~]$ cd /opt/netapp/Datasense/
[user Datasense]$ sudo bash tools/datascience/custom_regex/custom_regex.sh -s deactivate -n "Internal Product ID"
----
 log v1.0 | 2022-08-17 09:13:15,431 | INFO | ds_logger | custom_regex | 31 | 1 | None | custom_regex_31 | A pattern named 'Internal Product ID' was deactivated successfully